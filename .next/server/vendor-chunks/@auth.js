"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@auth";
exports.ids = ["vendor-chunks/@auth"];
exports.modules = {

/***/ "(rsc)/./node_modules/@auth/mongodb-adapter/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/@auth/mongodb-adapter/index.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MongoDBAdapter: () => (/* binding */ MongoDBAdapter),\n/* harmony export */   _id: () => (/* binding */ _id),\n/* harmony export */   defaultCollections: () => (/* binding */ defaultCollections),\n/* harmony export */   format: () => (/* binding */ format)\n/* harmony export */ });\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb */ \"mongodb\");\nvar __addDisposableResource = undefined && undefined.__addDisposableResource || function(env, value, async) {\n    if (value !== null && value !== void 0) {\n        if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n        var dispose;\n        if (async) {\n            if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n            dispose = value[Symbol.asyncDispose];\n        }\n        if (dispose === void 0) {\n            if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n            dispose = value[Symbol.dispose];\n        }\n        if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n        env.stack.push({\n            value: value,\n            dispose: dispose,\n            async: async\n        });\n    } else if (async) {\n        env.stack.push({\n            async: true\n        });\n    }\n    return value;\n};\nvar __disposeResources = undefined && undefined.__disposeResources || function(SuppressedError1) {\n    return function(env) {\n        function fail(e) {\n            env.error = env.hasError ? new SuppressedError1(e, env.error, \"An error was suppressed during disposal.\") : e;\n            env.hasError = true;\n        }\n        function next() {\n            while(env.stack.length){\n                var rec = env.stack.pop();\n                try {\n                    var result = rec.dispose && rec.dispose.call(rec.value);\n                    if (rec.async) return Promise.resolve(result).then(next, function(e) {\n                        fail(e);\n                        return next();\n                    });\n                } catch (e) {\n                    fail(e);\n                }\n            }\n            if (env.hasError) throw env.error;\n        }\n        return next();\n    };\n}(typeof SuppressedError === \"function\" ? SuppressedError : function(error, suppressed, message) {\n    var e = new Error(message);\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n});\n/**\n * <div style={{display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", padding: 16}}>\n *  <p>Official <a href=\"https://www.mongodb.com\">MongoDB</a> adapter for Auth.js / NextAuth.js.</p>\n *  <a href=\"https://www.mongodb.com\">\n *   <img style={{display: \"block\"}} src=\"https://authjs.dev/img/adapters/mongodb.svg\" width=\"30\" />\n *  </a>\n * </div>\n *\n * ## Installation\n *\n * ```bash npm2yarn\n * npm install @auth/mongodb-adapter mongodb\n * ```\n *\n * @module @auth/mongodb-adapter\n */ \n/**\n * This adapter uses https://www.typescriptlang.org/docs/handbook/release-notes/typescript-5-2.html#using-declarations-and-explicit-resource-management.\n * This feature is very new and requires runtime polyfills for `Symbol.asyncDispose` in order to work properly in all environments.\n * It is also required to set in the `tsconfig.json` file the compilation target to `es2022` or below and configure the `lib` option to include `esnext` or `esnext.disposable`.\n *\n * You can find more information about this feature and the polyfills in the link above.\n */ // @ts-expect-error read only property is not assignable\nSymbol.asyncDispose ?? (Symbol.asyncDispose = Symbol(\"Symbol.asyncDispose\"));\nconst defaultCollections = {\n    Users: \"users\",\n    Accounts: \"accounts\",\n    Sessions: \"sessions\",\n    VerificationTokens: \"verification_tokens\"\n};\nconst format = {\n    /** Takes a MongoDB object and returns a plain old JavaScript object */ from (object) {\n        const newObject = {};\n        for(const key in object){\n            const value = object[key];\n            if (key === \"_id\") {\n                newObject.id = value.toHexString();\n            } else if (key === \"userId\") {\n                newObject[key] = value.toHexString();\n            } else {\n                newObject[key] = value;\n            }\n        }\n        return newObject;\n    },\n    /** Takes a plain old JavaScript object and turns it into a MongoDB object */ to (object) {\n        const newObject = {\n            _id: _id(object.id)\n        };\n        for(const key in object){\n            const value = object[key];\n            if (key === \"userId\") newObject[key] = _id(value);\n            else if (key === \"id\") continue;\n            else newObject[key] = value;\n        }\n        return newObject;\n    }\n};\n/** @internal */ function _id(hex) {\n    if (hex?.length !== 24) return new mongodb__WEBPACK_IMPORTED_MODULE_0__.ObjectId();\n    return new mongodb__WEBPACK_IMPORTED_MODULE_0__.ObjectId(hex);\n}\nfunction MongoDBAdapter(/**\n * The MongoDB client.\n *\n * The MongoDB team recommends providing a non-connected `MongoClient` instance to avoid unhandled promise rejections if the client fails to connect.\n *\n * Alternatively, you can also pass:\n * - A promise that resolves to a connected `MongoClient` (not recommended).\n * - A function, to handle more complex and custom connection strategies.\n *\n * Using a function that returns `MongoClient | Promise<MongoClient>`, combined with `options.onClose`, can be useful when you want a more advanced and customized connection strategy to address challenges related to persistence, container reuse, and connection closure.\n */ client, options = {}) {\n    const { collections } = options;\n    const { from, to } = format;\n    const getDb = async ()=>{\n        const _client = await (typeof client === \"function\" ? client() : client);\n        const _db = _client.db(options.databaseName);\n        const c = {\n            ...defaultCollections,\n            ...collections\n        };\n        return {\n            U: _db.collection(c.Users),\n            A: _db.collection(c.Accounts),\n            S: _db.collection(c.Sessions),\n            V: _db.collection(c?.VerificationTokens),\n            [Symbol.asyncDispose]: async ()=>{\n                await options.onClose?.(_client);\n            }\n        };\n    };\n    return {\n        async createUser (data) {\n            const env_1 = {\n                stack: [],\n                error: void 0,\n                hasError: false\n            };\n            try {\n                const user = to(data);\n                const db = __addDisposableResource(env_1, await getDb(), true);\n                await db.U.insertOne(user);\n                return from(user);\n            } catch (e_1) {\n                env_1.error = e_1;\n                env_1.hasError = true;\n            } finally{\n                const result_1 = __disposeResources(env_1);\n                if (result_1) await result_1;\n            }\n        },\n        async getUser (id) {\n            const env_2 = {\n                stack: [],\n                error: void 0,\n                hasError: false\n            };\n            try {\n                const db = __addDisposableResource(env_2, await getDb(), true);\n                const user = await db.U.findOne({\n                    _id: _id(id)\n                });\n                if (!user) return null;\n                return from(user);\n            } catch (e_2) {\n                env_2.error = e_2;\n                env_2.hasError = true;\n            } finally{\n                const result_2 = __disposeResources(env_2);\n                if (result_2) await result_2;\n            }\n        },\n        async getUserByEmail (email) {\n            const env_3 = {\n                stack: [],\n                error: void 0,\n                hasError: false\n            };\n            try {\n                const db = __addDisposableResource(env_3, await getDb(), true);\n                const user = await db.U.findOne({\n                    email\n                });\n                if (!user) return null;\n                return from(user);\n            } catch (e_3) {\n                env_3.error = e_3;\n                env_3.hasError = true;\n            } finally{\n                const result_3 = __disposeResources(env_3);\n                if (result_3) await result_3;\n            }\n        },\n        async getUserByAccount (provider_providerAccountId) {\n            const env_4 = {\n                stack: [],\n                error: void 0,\n                hasError: false\n            };\n            try {\n                const db = __addDisposableResource(env_4, await getDb(), true);\n                const account = await db.A.findOne(provider_providerAccountId);\n                if (!account) return null;\n                const user = await db.U.findOne({\n                    _id: new mongodb__WEBPACK_IMPORTED_MODULE_0__.ObjectId(account.userId)\n                });\n                if (!user) return null;\n                return from(user);\n            } catch (e_4) {\n                env_4.error = e_4;\n                env_4.hasError = true;\n            } finally{\n                const result_4 = __disposeResources(env_4);\n                if (result_4) await result_4;\n            }\n        },\n        async updateUser (data) {\n            const env_5 = {\n                stack: [],\n                error: void 0,\n                hasError: false\n            };\n            try {\n                const { _id, ...user } = to(data);\n                const db = __addDisposableResource(env_5, await getDb(), true);\n                const result = await db.U.findOneAndUpdate({\n                    _id\n                }, {\n                    $set: user\n                }, {\n                    returnDocument: \"after\"\n                });\n                return from(result);\n            } catch (e_5) {\n                env_5.error = e_5;\n                env_5.hasError = true;\n            } finally{\n                const result_5 = __disposeResources(env_5);\n                if (result_5) await result_5;\n            }\n        },\n        async deleteUser (id) {\n            const env_6 = {\n                stack: [],\n                error: void 0,\n                hasError: false\n            };\n            try {\n                const userId = _id(id);\n                const db = __addDisposableResource(env_6, await getDb(), true);\n                await Promise.all([\n                    db.A.deleteMany({\n                        userId: userId\n                    }),\n                    db.S.deleteMany({\n                        userId: userId\n                    }),\n                    db.U.deleteOne({\n                        _id: userId\n                    })\n                ]);\n            } catch (e_6) {\n                env_6.error = e_6;\n                env_6.hasError = true;\n            } finally{\n                const result_6 = __disposeResources(env_6);\n                if (result_6) await result_6;\n            }\n        },\n        linkAccount: async (data)=>{\n            const env_7 = {\n                stack: [],\n                error: void 0,\n                hasError: false\n            };\n            try {\n                const account = to(data);\n                const db = __addDisposableResource(env_7, await getDb(), true);\n                await db.A.insertOne(account);\n                return account;\n            } catch (e_7) {\n                env_7.error = e_7;\n                env_7.hasError = true;\n            } finally{\n                const result_7 = __disposeResources(env_7);\n                if (result_7) await result_7;\n            }\n        },\n        async unlinkAccount (provider_providerAccountId) {\n            const env_8 = {\n                stack: [],\n                error: void 0,\n                hasError: false\n            };\n            try {\n                const db = __addDisposableResource(env_8, await getDb(), true);\n                const account = await db.A.findOneAndDelete(provider_providerAccountId);\n                return from(account);\n            } catch (e_8) {\n                env_8.error = e_8;\n                env_8.hasError = true;\n            } finally{\n                const result_8 = __disposeResources(env_8);\n                if (result_8) await result_8;\n            }\n        },\n        async getSessionAndUser (sessionToken) {\n            const env_9 = {\n                stack: [],\n                error: void 0,\n                hasError: false\n            };\n            try {\n                const db = __addDisposableResource(env_9, await getDb(), true);\n                const session = await db.S.findOne({\n                    sessionToken\n                });\n                if (!session) return null;\n                const user = await db.U.findOne({\n                    _id: new mongodb__WEBPACK_IMPORTED_MODULE_0__.ObjectId(session.userId)\n                });\n                if (!user) return null;\n                return {\n                    user: from(user),\n                    session: from(session)\n                };\n            } catch (e_9) {\n                env_9.error = e_9;\n                env_9.hasError = true;\n            } finally{\n                const result_9 = __disposeResources(env_9);\n                if (result_9) await result_9;\n            }\n        },\n        async createSession (data) {\n            const env_10 = {\n                stack: [],\n                error: void 0,\n                hasError: false\n            };\n            try {\n                const session = to(data);\n                const db = __addDisposableResource(env_10, await getDb(), true);\n                await db.S.insertOne(session);\n                return from(session);\n            } catch (e_10) {\n                env_10.error = e_10;\n                env_10.hasError = true;\n            } finally{\n                const result_10 = __disposeResources(env_10);\n                if (result_10) await result_10;\n            }\n        },\n        async updateSession (data) {\n            const env_11 = {\n                stack: [],\n                error: void 0,\n                hasError: false\n            };\n            try {\n                const { _id, ...session } = to(data);\n                const db = __addDisposableResource(env_11, await getDb(), true);\n                const updatedSession = await db.S.findOneAndUpdate({\n                    sessionToken: session.sessionToken\n                }, {\n                    $set: session\n                }, {\n                    returnDocument: \"after\"\n                });\n                return from(updatedSession);\n            } catch (e_11) {\n                env_11.error = e_11;\n                env_11.hasError = true;\n            } finally{\n                const result_11 = __disposeResources(env_11);\n                if (result_11) await result_11;\n            }\n        },\n        async deleteSession (sessionToken) {\n            const env_12 = {\n                stack: [],\n                error: void 0,\n                hasError: false\n            };\n            try {\n                const db = __addDisposableResource(env_12, await getDb(), true);\n                const session = await db.S.findOneAndDelete({\n                    sessionToken\n                });\n                return from(session);\n            } catch (e_12) {\n                env_12.error = e_12;\n                env_12.hasError = true;\n            } finally{\n                const result_12 = __disposeResources(env_12);\n                if (result_12) await result_12;\n            }\n        },\n        async createVerificationToken (data) {\n            const env_13 = {\n                stack: [],\n                error: void 0,\n                hasError: false\n            };\n            try {\n                const db = __addDisposableResource(env_13, await getDb(), true);\n                await db.V.insertOne(to(data));\n                return data;\n            } catch (e_13) {\n                env_13.error = e_13;\n                env_13.hasError = true;\n            } finally{\n                const result_13 = __disposeResources(env_13);\n                if (result_13) await result_13;\n            }\n        },\n        async useVerificationToken (identifier_token) {\n            const env_14 = {\n                stack: [],\n                error: void 0,\n                hasError: false\n            };\n            try {\n                const db = __addDisposableResource(env_14, await getDb(), true);\n                const verificationToken = await db.V.findOneAndDelete(identifier_token);\n                if (!verificationToken) return null;\n                const { _id, ...rest } = verificationToken;\n                return rest;\n            } catch (e_14) {\n                env_14.error = e_14;\n                env_14.hasError = true;\n            } finally{\n                const result_14 = __disposeResources(env_14);\n                if (result_14) await result_14;\n            }\n        }\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGF1dGgvbW9uZ29kYi1hZGFwdGVyL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsSUFBSUEsMEJBQTBCLFNBQUssSUFBSSxTQUFJLENBQUNBLHVCQUF1QixJQUFLLFNBQVVDLEdBQUcsRUFBRUMsS0FBSyxFQUFFQyxLQUFLO0lBQy9GLElBQUlELFVBQVUsUUFBUUEsVUFBVSxLQUFLLEdBQUc7UUFDcEMsSUFBSSxPQUFPQSxVQUFVLFlBQVksT0FBT0EsVUFBVSxZQUFZLE1BQU0sSUFBSUUsVUFBVTtRQUNsRixJQUFJQztRQUNKLElBQUlGLE9BQU87WUFDUCxJQUFJLENBQUNHLE9BQU9DLFlBQVksRUFBRSxNQUFNLElBQUlILFVBQVU7WUFDOUNDLFVBQVVILEtBQUssQ0FBQ0ksT0FBT0MsWUFBWSxDQUFDO1FBQ3hDO1FBQ0EsSUFBSUYsWUFBWSxLQUFLLEdBQUc7WUFDcEIsSUFBSSxDQUFDQyxPQUFPRCxPQUFPLEVBQUUsTUFBTSxJQUFJRCxVQUFVO1lBQ3pDQyxVQUFVSCxLQUFLLENBQUNJLE9BQU9ELE9BQU8sQ0FBQztRQUNuQztRQUNBLElBQUksT0FBT0EsWUFBWSxZQUFZLE1BQU0sSUFBSUQsVUFBVTtRQUN2REgsSUFBSU8sS0FBSyxDQUFDQyxJQUFJLENBQUM7WUFBRVAsT0FBT0E7WUFBT0csU0FBU0E7WUFBU0YsT0FBT0E7UUFBTTtJQUNsRSxPQUNLLElBQUlBLE9BQU87UUFDWkYsSUFBSU8sS0FBSyxDQUFDQyxJQUFJLENBQUM7WUFBRU4sT0FBTztRQUFLO0lBQ2pDO0lBQ0EsT0FBT0Q7QUFDWDtBQUNBLElBQUlRLHFCQUFxQixTQUFLLElBQUksU0FBSSxDQUFDQSxrQkFBa0IsSUFBSyxTQUFXQyxnQkFBZTtJQUNwRixPQUFPLFNBQVVWLEdBQUc7UUFDaEIsU0FBU1csS0FBS0MsQ0FBQztZQUNYWixJQUFJYSxLQUFLLEdBQUdiLElBQUljLFFBQVEsR0FBRyxJQUFJSixpQkFBZ0JFLEdBQUdaLElBQUlh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LElBQUksQ0FBQ0UsbUJBQ0QsT0FBTztnQkFDWCxNQUFNLEVBQUUzRixHQUFHLEVBQUUsR0FBRzRGLE1BQU0sR0FBR0Q7Z0JBQ3pCLE9BQU9DO1lBQ1gsRUFDQSxPQUFPQyxNQUFNO2dCQUNUSCxPQUFPdkgsS0FBSyxHQUFHMEg7Z0JBQ2ZILE9BQU90SCxRQUFRLEdBQUc7WUFDdEIsU0FDUTtnQkFDSixNQUFNMEgsWUFBWS9ILG1CQUFtQjJIO2dCQUNyQyxJQUFJSSxXQUNBLE1BQU1BO1lBQ2Q7UUFDSjtJQUNKO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9za2lsbHNoYXJlLXBsYXRmb3JtLy4vbm9kZV9tb2R1bGVzL0BhdXRoL21vbmdvZGItYWRhcHRlci9pbmRleC5qcz9mZjM0Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2FkZERpc3Bvc2FibGVSZXNvdXJjZSA9ICh0aGlzICYmIHRoaXMuX19hZGREaXNwb3NhYmxlUmVzb3VyY2UpIHx8IGZ1bmN0aW9uIChlbnYsIHZhbHVlLCBhc3luYykge1xuICAgIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdm9pZCAwKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHZhbHVlICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3QgZXhwZWN0ZWQuXCIpO1xuICAgICAgICB2YXIgZGlzcG9zZTtcbiAgICAgICAgaWYgKGFzeW5jKSB7XG4gICAgICAgICAgICBpZiAoIVN5bWJvbC5hc3luY0Rpc3Bvc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNEaXNwb3NlIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgICAgICAgICAgIGRpc3Bvc2UgPSB2YWx1ZVtTeW1ib2wuYXN5bmNEaXNwb3NlXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGlzcG9zZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBpZiAoIVN5bWJvbC5kaXNwb3NlKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmRpc3Bvc2UgaXMgbm90IGRlZmluZWQuXCIpO1xuICAgICAgICAgICAgZGlzcG9zZSA9IHZhbHVlW1N5bWJvbC5kaXNwb3NlXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGRpc3Bvc2UgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdCBub3QgZGlzcG9zYWJsZS5cIik7XG4gICAgICAgIGVudi5zdGFjay5wdXNoKHsgdmFsdWU6IHZhbHVlLCBkaXNwb3NlOiBkaXNwb3NlLCBhc3luYzogYXN5bmMgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGFzeW5jKSB7XG4gICAgICAgIGVudi5zdGFjay5wdXNoKHsgYXN5bmM6IHRydWUgfSk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn07XG52YXIgX19kaXNwb3NlUmVzb3VyY2VzID0gKHRoaXMgJiYgdGhpcy5fX2Rpc3Bvc2VSZXNvdXJjZXMpIHx8IChmdW5jdGlvbiAoU3VwcHJlc3NlZEVycm9yKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChlbnYpIHtcbiAgICAgICAgZnVuY3Rpb24gZmFpbChlKSB7XG4gICAgICAgICAgICBlbnYuZXJyb3IgPSBlbnYuaGFzRXJyb3IgPyBuZXcgU3VwcHJlc3NlZEVycm9yKGUsIGVudi5lcnJvciwgXCJBbiBlcnJvciB3YXMgc3VwcHJlc3NlZCBkdXJpbmcgZGlzcG9zYWwuXCIpIDogZTtcbiAgICAgICAgICAgIGVudi5oYXNFcnJvciA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICAgICAgIHdoaWxlIChlbnYuc3RhY2subGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlYyA9IGVudi5zdGFjay5wb3AoKTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gcmVjLmRpc3Bvc2UgJiYgcmVjLmRpc3Bvc2UuY2FsbChyZWMudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVjLmFzeW5jKSByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCkudGhlbihuZXh0LCBmdW5jdGlvbihlKSB7IGZhaWwoZSk7IHJldHVybiBuZXh0KCk7IH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBmYWlsKGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlbnYuaGFzRXJyb3IpIHRocm93IGVudi5lcnJvcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV4dCgpO1xuICAgIH07XG59KSh0eXBlb2YgU3VwcHJlc3NlZEVycm9yID09PSBcImZ1bmN0aW9uXCIgPyBTdXBwcmVzc2VkRXJyb3IgOiBmdW5jdGlvbiAoZXJyb3IsIHN1cHByZXNzZWQsIG1lc3NhZ2UpIHtcbiAgICB2YXIgZSA9IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICByZXR1cm4gZS5uYW1lID0gXCJTdXBwcmVzc2VkRXJyb3JcIiwgZS5lcnJvciA9IGVycm9yLCBlLnN1cHByZXNzZWQgPSBzdXBwcmVzc2VkLCBlO1xufSk7XG4vKipcbiAqIDxkaXYgc3R5bGU9e3tkaXNwbGF5OiBcImZsZXhcIiwganVzdGlmeUNvbnRlbnQ6IFwic3BhY2UtYmV0d2VlblwiLCBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLCBwYWRkaW5nOiAxNn19PlxuICogIDxwPk9mZmljaWFsIDxhIGhyZWY9XCJodHRwczovL3d3dy5tb25nb2RiLmNvbVwiPk1vbmdvREI8L2E+IGFkYXB0ZXIgZm9yIEF1dGguanMgLyBOZXh0QXV0aC5qcy48L3A+XG4gKiAgPGEgaHJlZj1cImh0dHBzOi8vd3d3Lm1vbmdvZGIuY29tXCI+XG4gKiAgIDxpbWcgc3R5bGU9e3tkaXNwbGF5OiBcImJsb2NrXCJ9fSBzcmM9XCJodHRwczovL2F1dGhqcy5kZXYvaW1nL2FkYXB0ZXJzL21vbmdvZGIuc3ZnXCIgd2lkdGg9XCIzMFwiIC8+XG4gKiAgPC9hPlxuICogPC9kaXY+XG4gKlxuICogIyMgSW5zdGFsbGF0aW9uXG4gKlxuICogYGBgYmFzaCBucG0yeWFyblxuICogbnBtIGluc3RhbGwgQGF1dGgvbW9uZ29kYi1hZGFwdGVyIG1vbmdvZGJcbiAqIGBgYFxuICpcbiAqIEBtb2R1bGUgQGF1dGgvbW9uZ29kYi1hZGFwdGVyXG4gKi9cbmltcG9ydCB7IE9iamVjdElkIH0gZnJvbSBcIm1vbmdvZGJcIjtcbi8qKlxuICogVGhpcyBhZGFwdGVyIHVzZXMgaHR0cHM6Ly93d3cudHlwZXNjcmlwdGxhbmcub3JnL2RvY3MvaGFuZGJvb2svcmVsZWFzZS1ub3Rlcy90eXBlc2NyaXB0LTUtMi5odG1sI3VzaW5nLWRlY2xhcmF0aW9ucy1hbmQtZXhwbGljaXQtcmVzb3VyY2UtbWFuYWdlbWVudC5cbiAqIFRoaXMgZmVhdHVyZSBpcyB2ZXJ5IG5ldyBhbmQgcmVxdWlyZXMgcnVudGltZSBwb2x5ZmlsbHMgZm9yIGBTeW1ib2wuYXN5bmNEaXNwb3NlYCBpbiBvcmRlciB0byB3b3JrIHByb3Blcmx5IGluIGFsbCBlbnZpcm9ubWVudHMuXG4gKiBJdCBpcyBhbHNvIHJlcXVpcmVkIHRvIHNldCBpbiB0aGUgYHRzY29uZmlnLmpzb25gIGZpbGUgdGhlIGNvbXBpbGF0aW9uIHRhcmdldCB0byBgZXMyMDIyYCBvciBiZWxvdyBhbmQgY29uZmlndXJlIHRoZSBgbGliYCBvcHRpb24gdG8gaW5jbHVkZSBgZXNuZXh0YCBvciBgZXNuZXh0LmRpc3Bvc2FibGVgLlxuICpcbiAqIFlvdSBjYW4gZmluZCBtb3JlIGluZm9ybWF0aW9uIGFib3V0IHRoaXMgZmVhdHVyZSBhbmQgdGhlIHBvbHlmaWxscyBpbiB0aGUgbGluayBhYm92ZS5cbiAqL1xuLy8gQHRzLWV4cGVjdC1lcnJvciByZWFkIG9ubHkgcHJvcGVydHkgaXMgbm90IGFzc2lnbmFibGVcblN5bWJvbC5hc3luY0Rpc3Bvc2UgPz8gKFN5bWJvbC5hc3luY0Rpc3Bvc2UgPSBTeW1ib2woXCJTeW1ib2wuYXN5bmNEaXNwb3NlXCIpKTtcbmV4cG9ydCBjb25zdCBkZWZhdWx0Q29sbGVjdGlvbnMgPSB7XG4gICAgVXNlcnM6IFwidXNlcnNcIixcbiAgICBBY2NvdW50czogXCJhY2NvdW50c1wiLFxuICAgIFNlc3Npb25zOiBcInNlc3Npb25zXCIsXG4gICAgVmVyaWZpY2F0aW9uVG9rZW5zOiBcInZlcmlmaWNhdGlvbl90b2tlbnNcIixcbn07XG5leHBvcnQgY29uc3QgZm9ybWF0ID0ge1xuICAgIC8qKiBUYWtlcyBhIE1vbmdvREIgb2JqZWN0IGFuZCByZXR1cm5zIGEgcGxhaW4gb2xkIEphdmFTY3JpcHQgb2JqZWN0ICovXG4gICAgZnJvbShvYmplY3QpIHtcbiAgICAgICAgY29uc3QgbmV3T2JqZWN0ID0ge307XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIG9iamVjdCkge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBvYmplY3Rba2V5XTtcbiAgICAgICAgICAgIGlmIChrZXkgPT09IFwiX2lkXCIpIHtcbiAgICAgICAgICAgICAgICBuZXdPYmplY3QuaWQgPSB2YWx1ZS50b0hleFN0cmluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoa2V5ID09PSBcInVzZXJJZFwiKSB7XG4gICAgICAgICAgICAgICAgbmV3T2JqZWN0W2tleV0gPSB2YWx1ZS50b0hleFN0cmluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbmV3T2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3T2JqZWN0O1xuICAgIH0sXG4gICAgLyoqIFRha2VzIGEgcGxhaW4gb2xkIEphdmFTY3JpcHQgb2JqZWN0IGFuZCB0dXJucyBpdCBpbnRvIGEgTW9uZ29EQiBvYmplY3QgKi9cbiAgICB0byhvYmplY3QpIHtcbiAgICAgICAgY29uc3QgbmV3T2JqZWN0ID0ge1xuICAgICAgICAgICAgX2lkOiBfaWQob2JqZWN0LmlkKSxcbiAgICAgICAgfTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IG9iamVjdFtrZXldO1xuICAgICAgICAgICAgaWYgKGtleSA9PT0gXCJ1c2VySWRcIilcbiAgICAgICAgICAgICAgICBuZXdPYmplY3Rba2V5XSA9IF9pZCh2YWx1ZSk7XG4gICAgICAgICAgICBlbHNlIGlmIChrZXkgPT09IFwiaWRcIilcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBuZXdPYmplY3Rba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXdPYmplY3Q7XG4gICAgfSxcbn07XG4vKiogQGludGVybmFsICovXG5leHBvcnQgZnVuY3Rpb24gX2lkKGhleCkge1xuICAgIGlmIChoZXg/Lmxlbmd0aCAhPT0gMjQpXG4gICAgICAgIHJldHVybiBuZXcgT2JqZWN0SWQoKTtcbiAgICByZXR1cm4gbmV3IE9iamVjdElkKGhleCk7XG59XG5leHBvcnQgZnVuY3Rpb24gTW9uZ29EQkFkYXB0ZXIoXG4vKipcbiAqIFRoZSBNb25nb0RCIGNsaWVudC5cbiAqXG4gKiBUaGUgTW9uZ29EQiB0ZWFtIHJlY29tbWVuZHMgcHJvdmlkaW5nIGEgbm9uLWNvbm5lY3RlZCBgTW9uZ29DbGllbnRgIGluc3RhbmNlIHRvIGF2b2lkIHVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbnMgaWYgdGhlIGNsaWVudCBmYWlscyB0byBjb25uZWN0LlxuICpcbiAqIEFsdGVybmF0aXZlbHksIHlvdSBjYW4gYWxzbyBwYXNzOlxuICogLSBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhIGNvbm5lY3RlZCBgTW9uZ29DbGllbnRgIChub3QgcmVjb21tZW5kZWQpLlxuICogLSBBIGZ1bmN0aW9uLCB0byBoYW5kbGUgbW9yZSBjb21wbGV4IGFuZCBjdXN0b20gY29ubmVjdGlvbiBzdHJhdGVnaWVzLlxuICpcbiAqIFVzaW5nIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGBNb25nb0NsaWVudCB8IFByb21pc2U8TW9uZ29DbGllbnQ+YCwgY29tYmluZWQgd2l0aCBgb3B0aW9ucy5vbkNsb3NlYCwgY2FuIGJlIHVzZWZ1bCB3aGVuIHlvdSB3YW50IGEgbW9yZSBhZHZhbmNlZCBhbmQgY3VzdG9taXplZCBjb25uZWN0aW9uIHN0cmF0ZWd5IHRvIGFkZHJlc3MgY2hhbGxlbmdlcyByZWxhdGVkIHRvIHBlcnNpc3RlbmNlLCBjb250YWluZXIgcmV1c2UsIGFuZCBjb25uZWN0aW9uIGNsb3N1cmUuXG4gKi9cbmNsaWVudCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgeyBjb2xsZWN0aW9ucyB9ID0gb3B0aW9ucztcbiAgICBjb25zdCB7IGZyb20sIHRvIH0gPSBmb3JtYXQ7XG4gICAgY29uc3QgZ2V0RGIgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IF9jbGllbnQgPSBhd2FpdCAodHlwZW9mIGNsaWVudCA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgICAgICA/IGNsaWVudCgpXG4gICAgICAgICAgICA6IGNsaWVudCk7XG4gICAgICAgIGNvbnN0IF9kYiA9IF9jbGllbnQuZGIob3B0aW9ucy5kYXRhYmFzZU5hbWUpO1xuICAgICAgICBjb25zdCBjID0geyAuLi5kZWZhdWx0Q29sbGVjdGlvbnMsIC4uLmNvbGxlY3Rpb25zIH07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBVOiBfZGIuY29sbGVjdGlvbihjLlVzZXJzKSxcbiAgICAgICAgICAgIEE6IF9kYi5jb2xsZWN0aW9uKGMuQWNjb3VudHMpLFxuICAgICAgICAgICAgUzogX2RiLmNvbGxlY3Rpb24oYy5TZXNzaW9ucyksXG4gICAgICAgICAgICBWOiBfZGIuY29sbGVjdGlvbihjPy5WZXJpZmljYXRpb25Ub2tlbnMpLFxuICAgICAgICAgICAgW1N5bWJvbC5hc3luY0Rpc3Bvc2VdOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgYXdhaXQgb3B0aW9ucy5vbkNsb3NlPy4oX2NsaWVudCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYXN5bmMgY3JlYXRlVXNlcihkYXRhKSB7XG4gICAgICAgICAgICBjb25zdCBlbnZfMSA9IHsgc3RhY2s6IFtdLCBlcnJvcjogdm9pZCAwLCBoYXNFcnJvcjogZmFsc2UgfTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdXNlciA9IHRvKGRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRiID0gX19hZGREaXNwb3NhYmxlUmVzb3VyY2UoZW52XzEsIGF3YWl0IGdldERiKCksIHRydWUpO1xuICAgICAgICAgICAgICAgIGF3YWl0IGRiLlUuaW5zZXJ0T25lKHVzZXIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmcm9tKHVzZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVfMSkge1xuICAgICAgICAgICAgICAgIGVudl8xLmVycm9yID0gZV8xO1xuICAgICAgICAgICAgICAgIGVudl8xLmhhc0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdF8xID0gX19kaXNwb3NlUmVzb3VyY2VzKGVudl8xKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0XzEpXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHJlc3VsdF8xO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBhc3luYyBnZXRVc2VyKGlkKSB7XG4gICAgICAgICAgICBjb25zdCBlbnZfMiA9IHsgc3RhY2s6IFtdLCBlcnJvcjogdm9pZCAwLCBoYXNFcnJvcjogZmFsc2UgfTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGIgPSBfX2FkZERpc3Bvc2FibGVSZXNvdXJjZShlbnZfMiwgYXdhaXQgZ2V0RGIoKSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IGRiLlUuZmluZE9uZSh7IF9pZDogX2lkKGlkKSB9KTtcbiAgICAgICAgICAgICAgICBpZiAoIXVzZXIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIHJldHVybiBmcm9tKHVzZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVfMikge1xuICAgICAgICAgICAgICAgIGVudl8yLmVycm9yID0gZV8yO1xuICAgICAgICAgICAgICAgIGVudl8yLmhhc0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdF8yID0gX19kaXNwb3NlUmVzb3VyY2VzKGVudl8yKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0XzIpXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHJlc3VsdF8yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBhc3luYyBnZXRVc2VyQnlFbWFpbChlbWFpbCkge1xuICAgICAgICAgICAgY29uc3QgZW52XzMgPSB7IHN0YWNrOiBbXSwgZXJyb3I6IHZvaWQgMCwgaGFzRXJyb3I6IGZhbHNlIH07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRiID0gX19hZGREaXNwb3NhYmxlUmVzb3VyY2UoZW52XzMsIGF3YWl0IGdldERiKCksIHRydWUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBkYi5VLmZpbmRPbmUoeyBlbWFpbCB9KTtcbiAgICAgICAgICAgICAgICBpZiAoIXVzZXIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIHJldHVybiBmcm9tKHVzZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVfMykge1xuICAgICAgICAgICAgICAgIGVudl8zLmVycm9yID0gZV8zO1xuICAgICAgICAgICAgICAgIGVudl8zLmhhc0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdF8zID0gX19kaXNwb3NlUmVzb3VyY2VzKGVudl8zKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0XzMpXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHJlc3VsdF8zO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBhc3luYyBnZXRVc2VyQnlBY2NvdW50KHByb3ZpZGVyX3Byb3ZpZGVyQWNjb3VudElkKSB7XG4gICAgICAgICAgICBjb25zdCBlbnZfNCA9IHsgc3RhY2s6IFtdLCBlcnJvcjogdm9pZCAwLCBoYXNFcnJvcjogZmFsc2UgfTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGIgPSBfX2FkZERpc3Bvc2FibGVSZXNvdXJjZShlbnZfNCwgYXdhaXQgZ2V0RGIoKSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgYWNjb3VudCA9IGF3YWl0IGRiLkEuZmluZE9uZShwcm92aWRlcl9wcm92aWRlckFjY291bnRJZCk7XG4gICAgICAgICAgICAgICAgaWYgKCFhY2NvdW50KVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgZGIuVS5maW5kT25lKHsgX2lkOiBuZXcgT2JqZWN0SWQoYWNjb3VudC51c2VySWQpIH0pO1xuICAgICAgICAgICAgICAgIGlmICghdXNlcilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZyb20odXNlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZV80KSB7XG4gICAgICAgICAgICAgICAgZW52XzQuZXJyb3IgPSBlXzQ7XG4gICAgICAgICAgICAgICAgZW52XzQuaGFzRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0XzQgPSBfX2Rpc3Bvc2VSZXNvdXJjZXMoZW52XzQpO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRfNClcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgcmVzdWx0XzQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIHVwZGF0ZVVzZXIoZGF0YSkge1xuICAgICAgICAgICAgY29uc3QgZW52XzUgPSB7IHN0YWNrOiBbXSwgZXJyb3I6IHZvaWQgMCwgaGFzRXJyb3I6IGZhbHNlIH07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgX2lkLCAuLi51c2VyIH0gPSB0byhkYXRhKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkYiA9IF9fYWRkRGlzcG9zYWJsZVJlc291cmNlKGVudl81LCBhd2FpdCBnZXREYigpLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkYi5VLmZpbmRPbmVBbmRVcGRhdGUoeyBfaWQgfSwgeyAkc2V0OiB1c2VyIH0sIHsgcmV0dXJuRG9jdW1lbnQ6IFwiYWZ0ZXJcIiB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZnJvbShyZXN1bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVfNSkge1xuICAgICAgICAgICAgICAgIGVudl81LmVycm9yID0gZV81O1xuICAgICAgICAgICAgICAgIGVudl81Lmhhc0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdF81ID0gX19kaXNwb3NlUmVzb3VyY2VzKGVudl81KTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0XzUpXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHJlc3VsdF81O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBhc3luYyBkZWxldGVVc2VyKGlkKSB7XG4gICAgICAgICAgICBjb25zdCBlbnZfNiA9IHsgc3RhY2s6IFtdLCBlcnJvcjogdm9pZCAwLCBoYXNFcnJvcjogZmFsc2UgfTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdXNlcklkID0gX2lkKGlkKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkYiA9IF9fYWRkRGlzcG9zYWJsZVJlc291cmNlKGVudl82LCBhd2FpdCBnZXREYigpLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICAgICAgICAgIGRiLkEuZGVsZXRlTWFueSh7IHVzZXJJZDogdXNlcklkIH0pLFxuICAgICAgICAgICAgICAgICAgICBkYi5TLmRlbGV0ZU1hbnkoeyB1c2VySWQ6IHVzZXJJZCB9KSxcbiAgICAgICAgICAgICAgICAgICAgZGIuVS5kZWxldGVPbmUoeyBfaWQ6IHVzZXJJZCB9KSxcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlXzYpIHtcbiAgICAgICAgICAgICAgICBlbnZfNi5lcnJvciA9IGVfNjtcbiAgICAgICAgICAgICAgICBlbnZfNi5oYXNFcnJvciA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRfNiA9IF9fZGlzcG9zZVJlc291cmNlcyhlbnZfNik7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdF82KVxuICAgICAgICAgICAgICAgICAgICBhd2FpdCByZXN1bHRfNjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgbGlua0FjY291bnQ6IGFzeW5jIChkYXRhKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbnZfNyA9IHsgc3RhY2s6IFtdLCBlcnJvcjogdm9pZCAwLCBoYXNFcnJvcjogZmFsc2UgfTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWNjb3VudCA9IHRvKGRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRiID0gX19hZGREaXNwb3NhYmxlUmVzb3VyY2UoZW52XzcsIGF3YWl0IGdldERiKCksIHRydWUpO1xuICAgICAgICAgICAgICAgIGF3YWl0IGRiLkEuaW5zZXJ0T25lKGFjY291bnQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBhY2NvdW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVfNykge1xuICAgICAgICAgICAgICAgIGVudl83LmVycm9yID0gZV83O1xuICAgICAgICAgICAgICAgIGVudl83Lmhhc0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdF83ID0gX19kaXNwb3NlUmVzb3VyY2VzKGVudl83KTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0XzcpXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHJlc3VsdF83O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBhc3luYyB1bmxpbmtBY2NvdW50KHByb3ZpZGVyX3Byb3ZpZGVyQWNjb3VudElkKSB7XG4gICAgICAgICAgICBjb25zdCBlbnZfOCA9IHsgc3RhY2s6IFtdLCBlcnJvcjogdm9pZCAwLCBoYXNFcnJvcjogZmFsc2UgfTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGIgPSBfX2FkZERpc3Bvc2FibGVSZXNvdXJjZShlbnZfOCwgYXdhaXQgZ2V0RGIoKSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgYWNjb3VudCA9IGF3YWl0IGRiLkEuZmluZE9uZUFuZERlbGV0ZShwcm92aWRlcl9wcm92aWRlckFjY291bnRJZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZyb20oYWNjb3VudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZV84KSB7XG4gICAgICAgICAgICAgICAgZW52XzguZXJyb3IgPSBlXzg7XG4gICAgICAgICAgICAgICAgZW52XzguaGFzRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0XzggPSBfX2Rpc3Bvc2VSZXNvdXJjZXMoZW52XzgpO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRfOClcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgcmVzdWx0Xzg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIGdldFNlc3Npb25BbmRVc2VyKHNlc3Npb25Ub2tlbikge1xuICAgICAgICAgICAgY29uc3QgZW52XzkgPSB7IHN0YWNrOiBbXSwgZXJyb3I6IHZvaWQgMCwgaGFzRXJyb3I6IGZhbHNlIH07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRiID0gX19hZGREaXNwb3NhYmxlUmVzb3VyY2UoZW52XzksIGF3YWl0IGdldERiKCksIHRydWUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBkYi5TLmZpbmRPbmUoeyBzZXNzaW9uVG9rZW4gfSk7XG4gICAgICAgICAgICAgICAgaWYgKCFzZXNzaW9uKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgZGIuVS5maW5kT25lKHsgX2lkOiBuZXcgT2JqZWN0SWQoc2Vzc2lvbi51c2VySWQpIH0pO1xuICAgICAgICAgICAgICAgIGlmICghdXNlcilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdXNlcjogZnJvbSh1c2VyKSxcbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbjogZnJvbShzZXNzaW9uKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVfOSkge1xuICAgICAgICAgICAgICAgIGVudl85LmVycm9yID0gZV85O1xuICAgICAgICAgICAgICAgIGVudl85Lmhhc0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdF85ID0gX19kaXNwb3NlUmVzb3VyY2VzKGVudl85KTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0XzkpXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHJlc3VsdF85O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBhc3luYyBjcmVhdGVTZXNzaW9uKGRhdGEpIHtcbiAgICAgICAgICAgIGNvbnN0IGVudl8xMCA9IHsgc3RhY2s6IFtdLCBlcnJvcjogdm9pZCAwLCBoYXNFcnJvcjogZmFsc2UgfTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbiA9IHRvKGRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRiID0gX19hZGREaXNwb3NhYmxlUmVzb3VyY2UoZW52XzEwLCBhd2FpdCBnZXREYigpLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBhd2FpdCBkYi5TLmluc2VydE9uZShzZXNzaW9uKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZnJvbShzZXNzaW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlXzEwKSB7XG4gICAgICAgICAgICAgICAgZW52XzEwLmVycm9yID0gZV8xMDtcbiAgICAgICAgICAgICAgICBlbnZfMTAuaGFzRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0XzEwID0gX19kaXNwb3NlUmVzb3VyY2VzKGVudl8xMCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdF8xMClcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgcmVzdWx0XzEwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBhc3luYyB1cGRhdGVTZXNzaW9uKGRhdGEpIHtcbiAgICAgICAgICAgIGNvbnN0IGVudl8xMSA9IHsgc3RhY2s6IFtdLCBlcnJvcjogdm9pZCAwLCBoYXNFcnJvcjogZmFsc2UgfTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBfaWQsIC4uLnNlc3Npb24gfSA9IHRvKGRhdGEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRiID0gX19hZGREaXNwb3NhYmxlUmVzb3VyY2UoZW52XzExLCBhd2FpdCBnZXREYigpLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkU2Vzc2lvbiA9IGF3YWl0IGRiLlMuZmluZE9uZUFuZFVwZGF0ZSh7IHNlc3Npb25Ub2tlbjogc2Vzc2lvbi5zZXNzaW9uVG9rZW4gfSwgeyAkc2V0OiBzZXNzaW9uIH0sIHsgcmV0dXJuRG9jdW1lbnQ6IFwiYWZ0ZXJcIiB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZnJvbSh1cGRhdGVkU2Vzc2lvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZV8xMSkge1xuICAgICAgICAgICAgICAgIGVudl8xMS5lcnJvciA9IGVfMTE7XG4gICAgICAgICAgICAgICAgZW52XzExLmhhc0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdF8xMSA9IF9fZGlzcG9zZVJlc291cmNlcyhlbnZfMTEpO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRfMTEpXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHJlc3VsdF8xMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgZGVsZXRlU2Vzc2lvbihzZXNzaW9uVG9rZW4pIHtcbiAgICAgICAgICAgIGNvbnN0IGVudl8xMiA9IHsgc3RhY2s6IFtdLCBlcnJvcjogdm9pZCAwLCBoYXNFcnJvcjogZmFsc2UgfTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGIgPSBfX2FkZERpc3Bvc2FibGVSZXNvdXJjZShlbnZfMTIsIGF3YWl0IGdldERiKCksIHRydWUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBkYi5TLmZpbmRPbmVBbmREZWxldGUoe1xuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uVG9rZW4sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZyb20oc2Vzc2lvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZV8xMikge1xuICAgICAgICAgICAgICAgIGVudl8xMi5lcnJvciA9IGVfMTI7XG4gICAgICAgICAgICAgICAgZW52XzEyLmhhc0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdF8xMiA9IF9fZGlzcG9zZVJlc291cmNlcyhlbnZfMTIpO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRfMTIpXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHJlc3VsdF8xMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgY3JlYXRlVmVyaWZpY2F0aW9uVG9rZW4oZGF0YSkge1xuICAgICAgICAgICAgY29uc3QgZW52XzEzID0geyBzdGFjazogW10sIGVycm9yOiB2b2lkIDAsIGhhc0Vycm9yOiBmYWxzZSB9O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYiA9IF9fYWRkRGlzcG9zYWJsZVJlc291cmNlKGVudl8xMywgYXdhaXQgZ2V0RGIoKSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgYXdhaXQgZGIuVi5pbnNlcnRPbmUodG8oZGF0YSkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVfMTMpIHtcbiAgICAgICAgICAgICAgICBlbnZfMTMuZXJyb3IgPSBlXzEzO1xuICAgICAgICAgICAgICAgIGVudl8xMy5oYXNFcnJvciA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRfMTMgPSBfX2Rpc3Bvc2VSZXNvdXJjZXMoZW52XzEzKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0XzEzKVxuICAgICAgICAgICAgICAgICAgICBhd2FpdCByZXN1bHRfMTM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGFzeW5jIHVzZVZlcmlmaWNhdGlvblRva2VuKGlkZW50aWZpZXJfdG9rZW4pIHtcbiAgICAgICAgICAgIGNvbnN0IGVudl8xNCA9IHsgc3RhY2s6IFtdLCBlcnJvcjogdm9pZCAwLCBoYXNFcnJvcjogZmFsc2UgfTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGIgPSBfX2FkZERpc3Bvc2FibGVSZXNvdXJjZShlbnZfMTQsIGF3YWl0IGdldERiKCksIHRydWUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHZlcmlmaWNhdGlvblRva2VuID0gYXdhaXQgZGIuVi5maW5kT25lQW5kRGVsZXRlKGlkZW50aWZpZXJfdG9rZW4pO1xuICAgICAgICAgICAgICAgIGlmICghdmVyaWZpY2F0aW9uVG9rZW4pXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgX2lkLCAuLi5yZXN0IH0gPSB2ZXJpZmljYXRpb25Ub2tlbjtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlXzE0KSB7XG4gICAgICAgICAgICAgICAgZW52XzE0LmVycm9yID0gZV8xNDtcbiAgICAgICAgICAgICAgICBlbnZfMTQuaGFzRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0XzE0ID0gX19kaXNwb3NlUmVzb3VyY2VzKGVudl8xNCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdF8xNClcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgcmVzdWx0XzE0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH07XG59XG4iXSwibmFtZXMiOlsiX19hZGREaXNwb3NhYmxlUmVzb3VyY2UiLCJlbnYiLCJ2YWx1ZSIsImFzeW5jIiwiVHlwZUVycm9yIiwiZGlzcG9zZSIsIlN5bWJvbCIsImFzeW5jRGlzcG9zZSIsInN0YWNrIiwicHVzaCIsIl9fZGlzcG9zZVJlc291cmNlcyIsIlN1cHByZXNzZWRFcnJvciIsImZhaWwiLCJlIiwiZXJyb3IiLCJoYXNFcnJvciIsIm5leHQiLCJsZW5ndGgiLCJyZWMiLCJwb3AiLCJyZXN1bHQiLCJjYWxsIiwiUHJvbWlzZSIsInJlc29sdmUiLCJ0aGVuIiwic3VwcHJlc3NlZCIsIm1lc3NhZ2UiLCJFcnJvciIsIm5hbWUiLCJPYmplY3RJZCIsImRlZmF1bHRDb2xsZWN0aW9ucyIsIlVzZXJzIiwiQWNjb3VudHMiLCJTZXNzaW9ucyIsIlZlcmlmaWNhdGlvblRva2VucyIsImZvcm1hdCIsImZyb20iLCJvYmplY3QiLCJuZXdPYmplY3QiLCJrZXkiLCJpZCIsInRvSGV4U3RyaW5nIiwidG8iLCJfaWQiLCJoZXgiLCJNb25nb0RCQWRhcHRlciIsImNsaWVudCIsIm9wdGlvbnMiLCJjb2xsZWN0aW9ucyIsImdldERiIiwiX2NsaWVudCIsIl9kYiIsImRiIiwiZGF0YWJhc2VOYW1lIiwiYyIsIlUiLCJjb2xsZWN0aW9uIiwiQSIsIlMiLCJWIiwib25DbG9zZSIsImNyZWF0ZVVzZXIiLCJkYXRhIiwiZW52XzEiLCJ1c2VyIiwiaW5zZXJ0T25lIiwiZV8xIiwicmVzdWx0XzEiLCJnZXRVc2VyIiwiZW52XzIiLCJmaW5kT25lIiwiZV8yIiwicmVzdWx0XzIiLCJnZXRVc2VyQnlFbWFpbCIsImVtYWlsIiwiZW52XzMiLCJlXzMiLCJyZXN1bHRfMyIsImdldFVzZXJCeUFjY291bnQiLCJwcm92aWRlcl9wcm92aWRlckFjY291bnRJZCIsImVudl80IiwiYWNjb3VudCIsInVzZXJJZCIsImVfNCIsInJlc3VsdF80IiwidXBkYXRlVXNlciIsImVudl81IiwiZmluZE9uZUFuZFVwZGF0ZSIsIiRzZXQiLCJyZXR1cm5Eb2N1bWVudCIsImVfNSIsInJlc3VsdF81IiwiZGVsZXRlVXNlciIsImVudl82IiwiYWxsIiwiZGVsZXRlTWFueSIsImRlbGV0ZU9uZSIsImVfNiIsInJlc3VsdF82IiwibGlua0FjY291bnQiLCJlbnZfNyIsImVfNyIsInJlc3VsdF83IiwidW5saW5rQWNjb3VudCIsImVudl84IiwiZmluZE9uZUFuZERlbGV0ZSIsImVfOCIsInJlc3VsdF84IiwiZ2V0U2Vzc2lvbkFuZFVzZXIiLCJzZXNzaW9uVG9rZW4iLCJlbnZfOSIsInNlc3Npb24iLCJlXzkiLCJyZXN1bHRfOSIsImNyZWF0ZVNlc3Npb24iLCJlbnZfMTAiLCJlXzEwIiwicmVzdWx0XzEwIiwidXBkYXRlU2Vzc2lvbiIsImVudl8xMSIsInVwZGF0ZWRTZXNzaW9uIiwiZV8xMSIsInJlc3VsdF8xMSIsImRlbGV0ZVNlc3Npb24iLCJlbnZfMTIiLCJlXzEyIiwicmVzdWx0XzEyIiwiY3JlYXRlVmVyaWZpY2F0aW9uVG9rZW4iLCJlbnZfMTMiLCJlXzEzIiwicmVzdWx0XzEzIiwidXNlVmVyaWZpY2F0aW9uVG9rZW4iLCJpZGVudGlmaWVyX3Rva2VuIiwiZW52XzE0IiwidmVyaWZpY2F0aW9uVG9rZW4iLCJyZXN0IiwiZV8xNCIsInJlc3VsdF8xNCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@auth/mongodb-adapter/index.js\n");

/***/ })

};
;